int subarraySum(int* nums, int numsSize) {
    
    int i,j,sum=0,a=0;
    for(i=0;i<numsSize;i++)
    {
        a=0;
        for(j=fmax(0,i-nums[i]);j<=i;j++)
        {
            a=a+nums[j];
        }
        sum=sum+a;
    }
    return sum;
}
